<style>
    

</style>
<section class="survey">
  <div class="main-content">
    <h2><%=ps.survey.title%></h2>
  <div class="survey-grid">

    <div class="survey-card green">
      <div class="circle" data-percent="<%=ps.survey.items[0].percent%>">
        <span><%=ps.survey.items[0].percent%>%</span>
      </div>
      <p><%=ps.survey.items[0].text%></p>
    </div>

    <div class="survey-card lime">
      <div class="circle" data-percent="<%=ps.survey.items[1].percent%>">
        <span><%=ps.survey.items[1].percent%>%</span>
      </div>
      <p><%=ps.survey.items[1].text%></p>
    </div>

    <div class="survey-card yellow">
      <div class="circle" data-percent="<%=ps.survey.items[2].percent%>">
        <span><%=ps.survey.items[2].percent%>%</span>
      </div>
      <p><%=ps.survey.items[2].text%></p>
    </div>

    <div class="survey-card blue">
      <div class="circle" data-percent="<%=ps.survey.items[3].percent%>">
        <span><%=ps.survey.items[3].percent%>%</span>
      </div>
      <p><%=ps.survey.items[3].text%></p>
    </div>

  </div>
  </div>
</section>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const circles = document.querySelectorAll(".circle");

    circles.forEach(circle => {
      const percent = parseInt(circle.getAttribute("data-percent"), 10) || 0;

      // Lấy màu từ class cha (survey-card)
      const card = circle.closest(".survey-card");
      let color = "#22c55e"; // mặc định nếu không tìm thấy class

      if (card.classList.contains("green")) color = "#22c55e";
      else if (card.classList.contains("lime")) color = "#84cc16";
      else if (card.classList.contains("yellow")) color = "#eab308";
      else if (card.classList.contains("blue")) color = "#0ea5e9";

      // Gán background bằng conic-gradient
      circle.style.background = `conic-gradient(${color} ${percent}%, #e5e7eb 0)`;
    });
  });
</script>
